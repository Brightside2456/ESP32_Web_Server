<!DOCTYPE html<html><head>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
        <link href="/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
        <meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    </head><body>
        <div class="modal modal-sheet position-static d-block bg-body-secondary p-4 py-md-5 align-items-center" tabindex="-1" role="dialog" id="modalSheet">
            <div class="modal-title text-center"><h1 class="display-5 fw-bold text-body-emphasis text-center">Air Refresher</h1></div>  
            <div class="modal-dialog row" role="document">
              <div class="modal-dialog col" role="document">
                <div class="modal-content rounded-4 shadow">
                    <div class="modal-header border-bottom-0">
                      <h1 class="modal-title text-centre fs-5 text-center">Spray Percentage</h1>
                    </div>
                    <div class="modal-footer flex-column align-items-stretch w-100 gap-2 pb-3 border-top-0">
                      <h1 class="modal-title text-centre fs-5 text-center"><span id="spray">%SPRAY%</span>&percnt;</h1>
                    </div>
                </div>
              </div>
            <div class="modal-dialog col" role="document">
              <div class="modal-content rounded-4 shadow">
                  <div class="modal-header border-bottom-0">
                    <h1 class="modal-title text-centre fs-5 text-center">Battery Percentage</h1>
                  </div>
                  <div class="modal-footer flex-column align-items-stretch w-100 gap-2 pb-3 border-top-0">
                    <h1 class="modal-title text-centre fs-5 text-center"><span id="battery">%BATTERY%</span>&percnt;</h1>
                  </div>
              </div>
            </div>
            <div class="modal-dialog" role="document">
                <div class="modal-content rounded-4 shadow"><div class="modal-header border-bottom-0">
                    <h1 class="modal-title text-centre fs-5 text-center">Spray Interval</h1></div>
                  <div class="modal-footer flex-column align-items-stretch w-100 gap-2 pb-3 border-top-0">
                    <div class="row mb-3 text-center"><div class="col-sm-4 themed-grid-col">
                            <button type="button" class="btn btn-lg btn-primary">10 min</button></div>
                        <div class="col-sm-4 themed-grid-col">
                            <button type="button" class="btn btn-lg btn-primary">30 min</button></div>
                        <div class="col-sm-4 themed-grid-col">
                            <button type="button" class="btn btn-lg btn-primary">60 min</button></div></div>
                    <div class="row mb-3 text-center"><div class="col-sm-8 themed-grid-col"><div class="form-floating mb-3">
                            <input  class="form-control rounded-3" id="floatingInput" placeholder="spray time">
                            <label for="floatingInput">Spray Time</label></div></div><div class="col-sm-4 themed-grid-col">
                            <button type="submit" class="btn btn-st btn-primary">Save</button></div></div></div></div></div>
              <div class="modal-dialog" role="document"><div class="modal-content rounded-4 shadow">                  
                  <div class="modal-footer flex-column align-items-stretch w-100 gap-2 pb-3 border-top-0">
                    <button type="button" class="btn btn-lg btn-primary">Reset WiFi credentials</button>
                    <script>
                                              if (!!window.EventSource) {
                            //default event listeners
                            var source = new EventSource('/events');
                            source.addEventListener('open', function(e) {
                              console.log("Events Connected");
                            }, false);
                            source.addEventListener('error', function(e) {
                              if (e.target.readyState != EventSource.OPEN) {
                                console.log("Events Disconnected");
                              }
                            }, false);
                          
                            source.addEventListener('message', function(e) {
                              console.log("message", e.data);
                            }, false);
                          
                            // custom default listeners  
                            source.addEventListener('temperature', function(e) {
                              console.log("spray_percentage", e.data);
                              document.getElementById("spray").innerHTML = e.data;
                            }, false);
                          
                            source.addEventListener('battery_percentage', function(e) {
                              console.log("battery_percentage", e.data);
                              document.getElementById("battery").innerHTML = e.data;
                            }, false);
                          }
                    </script>
                  </div></div></div></div></div></body></html>